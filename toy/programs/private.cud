int glob;

device synctest(a) {
      int local;

      local = glob;
      
      syncthreads();
      glob = a;

      print(local);
}

global testa(a) {
      synctest(a);
}

global testb(a) {
      synctest(a);
}

host main() {
      glob = 5;
      testa<<<2, 4, 0, 0>>>(1);
      testb<<<2, 4, 0, 1>>>(2);
}
